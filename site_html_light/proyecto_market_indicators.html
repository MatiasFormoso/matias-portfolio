<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Market Indicators Dashboard — Detalle del caso | Matías Formoso</title>
  <meta name="description" content="Detalle del Market Indicators Dashboard: ingesta automática con GitHub Actions, base de datos en Neon Postgres y visualización con Streamlit desplegado en Render." />
  <meta name="author" content="Matías Formoso" />
  <meta property="og:title" content="Market Indicators Dashboard — Detalle del caso" />
  <meta property="og:description" content="Ingesta programada, Postgres gestionado, app Streamlit con KPIs, velas y normalización base 100." />
  <meta property="og:type" content="website" />
  <link rel="icon" href="./assets/favicon.png" />
  <style>
    :root{
      --bg:#0b1020;--panel:#121935;--muted:#8ea0ca;--text:#e7ecff;--brand:#7aa2ff;
      --shadow:0 10px 30px rgba(0,0,0,.35);--radius:16px;--navH:56px
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{
      background:#0b1020; color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
      position:relative;
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        radial-gradient(1000px 600px at 20% 15%, rgba(122,162,255,.08), rgba(11,16,32,0) 70%),
        radial-gradient(900px 540px at 85% 10%, rgba(122,162,255,.05), rgba(11,16,32,0) 65%);
    }

    img{max-width:100%;display:block}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px;margin:0 auto;padding:24px}

    .badge{display:inline-block;padding:6px 10px;border:1px solid #24315d;border-radius:999px;background:rgba(122,162,255,.06);color:#cfe0ff;font-size:12px}
    .btn{display:inline-flex;gap:10px;align-items:center;padding:12px 16px;border-radius:12px;border:1px solid #24315d;background:rgba(122,162,255,.08);color:#eaf1ff;font-weight:600;transition:transform .15s, box-shadow .15s; text-decoration:none}
    .btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
    .btn.primary{background:linear-gradient(180deg,#7aa2ff,#5c8df7);border-color:#5c8df7;color:#08122b}

    .grid{display:grid;gap:20px;align-items:start}
    @media(min-width:900px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    .card{
      background:linear-gradient(180deg,rgba(18,25,53,.8),rgba(18,25,53,.5));
      backdrop-filter:blur(6px);border:1px solid #24315d;border-radius:var(--radius);
      padding:22px;box-shadow:var(--shadow)
    }
    .card h2,.card h3,.card p,.card ul,.card .stack,.card .caption{margin:0}
    .card > * + *{margin-top:12px}
    .card .stack{margin-top:16px}

    .muted{color:var(--muted)}
    .caption{font-size:13px;color:#a9b7e6}
    .section-h{font-size:22px;margin:6px 0 12px}
    .list{display:flex;flex-direction:column;gap:8px;margin:0;padding:0;list-style:none}
    .list li{list-style:none;padding-left:0}
    .card:hover{transform:translateY(-2px);box-shadow:0 12px 32px rgba(0,0,0,.45)}

    /* NAV (idéntico al index) */
    nav.top{position:sticky;top:0;z-index:50;backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(11,16,32,.85),rgba(11,16,32,.45));border-bottom:1px solid #1c2550}
    .nav-inner{display:flex;justify-content:space-between;align-items:center;padding:10px 0;height:var(--navH)}
    .brand{display:flex;align-items:center;gap:10px;color:#e7ecff;font-weight:700;letter-spacing:.2px}
    .nav-actions{display:flex; gap:16px; align-items:center;}
    .btn.small{padding:8px 12px;font-size:14px}

    /* SUBHERO */
    header.subhero{border-bottom:1px solid #1c2550;padding-top:25px;}
    .title{font-size:clamp(28px,5vw,44px);line-height:1.1;margin:8px 0}
    .subtitle{font-size:clamp(16px,3vw,22px);color:#cdd8ff;margin:10px 0 0}
    .stack{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px}

    /* Media block */
    .media{border:1px solid #24315d; border-radius:12px; overflow:hidden; background:#0e1a38; box-shadow:var(--shadow)}
    .media img{width:100%; height:auto; object-fit:contain; background:#0e1a38;}

    /* Responsive */
    @media (max-width: 900px) {.container { padding: 16px; }}
    @media (max-width: 680px) {
      .btn { padding: 10px 14px; }
      .btn.small { font-size: 13px; padding: 8px 10px; }
      .stack { gap: 10px; }
      .grid.cols-2 { grid-template-columns: 1fr !important; }
      .card{ padding:18px; display:flex; flex-direction:column; justify-content:center; }
      .card h3{margin-bottom:8px; font-size:18px}
      .card p.muted{line-height:1.45}
      .list{gap:6px}
      section{margin-top:20px !important}
    }
    @media (max-width: 480px) {
      .badge { font-size: 11px; }
      .title { font-size: 26px; }
      .container { padding: 14px; }
      .card{padding:16px}
      .card p.muted{font-size:14px}
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="top" aria-label="Barra de navegación">
    <div class="container nav-inner">
      <a class="brand" href="./index.html"><span>Matías Formoso</span></a>
      <div class="nav-actions">
        <a class="btn small" href="./index.html">Volver al inicio</a>
      </div>
    </div>
  </nav>

  <!-- SUBHERO -->
  <header class="subhero">
    <div class="container">
      <h1 class="title">Market Indicators Dashboard — Detalle del caso</h1>
      <p class="subtitle">Seguimiento de activos con ingesta automática, base en Postgres y app Streamlit en Render. KPIs, velas OHLC y normalización base 100.</p>

      <div class="stack">
        <span class="badge">Python</span><span class="badge">Streamlit</span><span class="badge">Plotly</span>
        <span class="badge">PostgreSQL (Neon)</span><span class="badge">GitHub Actions</span>
        <span class="badge">Docker</span><span class="badge">Render</span><span class="badge">APIs (FMP/CoinGecko)</span>
      </div>
    </div>
  </header>

  <!-- CONTENIDO -->
  <main class="container">
    <section class="grid cols-2" style="margin-top:20px">
      <div class="card">
        <h2 class="section-h">Cómo funciona</h2>
        <ul class="list">
          <li>▶ <b>Jobs programados:</b> workflows de GitHub Actions ejecutan <i>hourly</i> y <i>daily</i> para traer precios y series históricas (FMP/CoinGecko).</li>
          <li>▶ <b>Validación & transformaciones:</b> limpieza mínima, checks de consistencia y enriquecimiento básico.</li>
          <li>▶ <b>Normalización y upsert:</b> idempotente en <b>Neon Postgres</b> (claves compuestas por símbolo, timestamp y granularidad).</li>
          <li>▶ <b>UI de análisis:</b> Streamlit consulta por activo/rango/granularidad; opción de <b>base 100</b> para comparar curvas.</li>
          <li>▶ <b>Visualización:</b> KPIs (precio, variación 24h, volumen, market cap) y gráfico principal (línea/área u OHLC).</li>
        </ul>
        <div class="stack">
          <a class="btn primary" href="https://market-indicators-dashboard.onrender.com/" target="_blank" rel="noopener">Abrir demo</a>
          <a class="btn" href="./assets/mid_infra.png" target="_blank" rel="noopener">Ver arquitectura en alta</a>
        </div>
      </div>

      <div class="card">
        <h2 class="section-h">Diferenciadores técnicos</h2>
        <ul class="list">
          <li><b>Free tier real:</b> web en Render + cron con <b>GitHub Actions</b>.</li>
          <li><b>Modelo de datos simple:</b> claves compuestas para evitar duplicados.</li>
          <li><b>Config por entorno:</b> variables <code>DATABASE_URL</code>, <code>FMP_API_KEY</code> (opcional) y otras <code>.env</code>.</li>
          <li><b>Contenedor reproducible:</b> Dockerfile con <code>python:3.12-slim</code> y dependencias fijadas.</li>
          <li><b>UX para análisis:</b> normalización base 100, presets de rango (1M/3M/1Y) y velas.</li>
        </ul>
      </div>
    </section>

    <section style="margin-top:22px">
      <div class="card">
        <h2 class="section-h">Arquitectura</h2>
        <a class="media" href="./assets/mid_infra.png" target="_blank" rel="noopener">
          <img src="./assets/mid_infra.png" alt="Arquitectura del Market Indicators Dashboard (placeholder)" />
        </a>
        <p class="caption">GitHub Actions (cron) → ETL (Python) → Neon Postgres → App Streamlit en Render.</p>
      </div>
    </section>

    <section style="margin-top:22px" class="grid cols-2">
      <div class="card">
        <h2 class="section-h">Flujo de datos</h2>
        <a class="media" href="./assets/mid_flow.png" target="_blank" rel="noopener">
          <img src="./assets/mid_flow.png" alt="Flujo de datos (placeholder)" />
        </a>
        <p class="caption">Jobs horaria/diaria → validación → upsert → consultas por rango/granularidad desde la UI.</p>
      </div>

      <div class="card">
        <h2 class="section-h">Interfaz</h2>
        <a class="media" href="./assets/mid_ui.png" target="_blank" rel="noopener">
          <img src="./assets/mid_ui.png" alt="UI del dashboard (placeholder)" />
        </a>
        <p class="caption">Controles de activo + granularidad + rango, KPIs y gráfico principal (línea/velas).</p>
      </div>
    </section>

    <section style="margin-top:22px">
      <div class="card">
        <h2 class="section-h">Operación y despliegue</h2>
        <ul class="list muted">
          <li><b>Render (Web Service):</b> Docker + <code>EXPOSE 7860</code> + <code>streamlit run app.py</code>.</li>
          <li><b>Neon Postgres:</b> instancia gratuita con <code>DATABASE_URL</code> como secret.</li>
          <li><b>GitHub Actions:</b> workflows <i>hourly/daily</i> para ingesta sin depender de cron pago.</li>
          <li><b>Secrets:</b> <code>DATABASE_URL</code>, <code>FMP_API_KEY</code> (si aplica) y otros.</li>
          <li><b>Observabilidad:</b> logs en Actions/Render, validaciones básicas e idempotencia en inserts.</li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="container">
    <div class="foot">
      <span>© <span id="y"></span> Matías Formoso</span>
    </div>
  </footer>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
</body>
</html>
